function updateProgressBar(){const now=new Date;let nextBirthdayYear=now.getFullYear();const birthMonth=birthDate.getMonth(),birthDay=birthDate.getDate(),birthHour=birthDate.getHours(),birthMinute=birthDate.getMinutes();now>=new Date(nextBirthdayYear,birthMonth,birthDay,birthHour,birthMinute)&&nextBirthdayYear++;const nextBirthday=new Date(nextBirthdayYear,birthMonth,birthDay,birthHour,birthMinute),lastBirthday=new Date(nextBirthdayYear-1,birthMonth,birthDay,birthHour,birthMinute),totalMs=nextBirthday-lastBirthday,elapsedMs=now-lastBirthday;let percent=Math.min(100,Math.max(0,elapsedMs/totalMs*100));document.getElementById("progress-bar-fill").style.width=percent+"%";const msLeft=nextBirthday-now,daysLeft=Math.floor(msLeft/864e5);document.getElementById("progress-label").textContent=`${daysLeft} days until next birthday (${nextBirthdayYear})`}const birthDate=new Date("2025-08-05T01:50:00-05:00");function updateCounters(){const now=new Date;let diffMs=now-birthDate;if(diffMs<0)return document.getElementById("days-counter").textContent="0",document.getElementById("weeks-counter").textContent="0 weeks 0 days",document.getElementById("months-counter").textContent="0 months 0 days",void(document.getElementById("timer-counter").textContent=formatCountdown(-diffMs)+" until birth");const days=Math.floor(diffMs/864e5);document.getElementById("days-counter").textContent=days;const weeks=Math.floor(days/7),weekDays=days%7;document.getElementById("weeks-counter").textContent=`${weeks} week${1!==weeks?"s":""} ${weekDays} day${1!==weekDays?"s":""}`;const months=Math.floor(days/30),monthDays=days%30;document.getElementById("months-counter").textContent=`${months} month${1!==months?"s":""} ${monthDays} day${1!==monthDays?"s":""}`;const msUntilNext=getNextIncrement(now)-now;document.getElementById("timer-counter").textContent=formatCountdown(msUntilNext)+` until ${days+1} days old`}function getNextIncrement(now){const nowUtc=now.getTime()+6e4*now.getTimezoneOffset();let next=new Date(nowUtc+-18e6);return next.setHours(1,50,0,0),(now.getHours()>1||1===now.getHours()&&now.getMinutes()>=50)&&next.setDate(next.getDate()+1),new Date(next.getTime()- -18e6)}function formatCountdown(ms){ms<0&&(ms=0);const totalSeconds=Math.floor(ms/1e3);return`${Math.floor(totalSeconds/3600)}h ${Math.floor(totalSeconds%3600/60)}m ${totalSeconds%60}s`}function scheduleDailyUpdate(){const now=new Date,nextIncrement=getNextIncrement(now);setTimeout((()=>{updateCounters(),setInterval(updateCounters,864e5)}),nextIncrement-now)}document.addEventListener("DOMContentLoaded",(()=>{updateCounters(),updateProgressBar(),scheduleDailyUpdate(),setInterval((()=>{updateCounters(),updateProgressBar()}),1e3)}));